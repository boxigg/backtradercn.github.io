<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DateTime Management &#8212; backtrader 1.9.69.122 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/mycss-2016-12-25-2300.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="_static/myjs-2016-12-25-2300.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Live Data Feeds and Live Trading" href="live/live.html" />
    <link rel="prev" title="Saving Memory" href="memory-savings/memory-savings.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

 <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <!-- <a class="navbar-brand" href="index.html"> -->
        <a class="navbar-brand" href="/">
          backtrader</a>
        <a href="index.html">
	  <span class="navbar-text navbar-version pull-left"><b>1.9.69.122</b></span>
	</a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav navbar-right"> 
            
                <li><a href="/">Home</a></li>
                <li><a href="/features">Features</a></li>
                <li><a href="/docu">Docs</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="https://community.backtrader.com">Community</a></li>
            
            
	      
              
            
            
            
            
            
          </ul>

          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <!-- backtrader-001 -->
      <ins class="adsbygoogle"
	   style="display:block"
	   data-ad-client="ca-pub-2694577446631179"
	   data-ad-slot="3977998265"
	   data-ad-format="auto"></ins>
      <script>
	(adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<div class="globaltoc">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Platform Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="operating.html">Operating the platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="cerebro.html">Cerebro</a></li>
<li class="toctree-l1"><a class="reference internal" href="cerebro/cheat-on-open/cheat-on-open.html">Cheat On Open</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategy.html">Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="sizers/sizers.html">Sizers - Smart Staking</a></li>
<li class="toctree-l1"><a class="reference internal" href="timers/timers.html">Timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="order_target/order_target.html">Target Orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal_strategy/signal_strategy.html">Strategy with Signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="broker.html">Broker</a></li>
<li class="toctree-l1"><a class="reference internal" href="slippage/slippage.html">Slippage</a></li>
<li class="toctree-l1"><a class="reference internal" href="filler.html">Fillers</a></li>
<li class="toctree-l1"><a class="reference internal" href="order.html">Orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="order-creation-execution/order-creation-execution.html">Order Management and Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="order-creation-execution/oco/oco.html">OCO orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="order-creation-execution/trail/stoptrail.html">StopTrail(Limit)</a></li>
<li class="toctree-l1"><a class="reference internal" href="order-creation-execution/bracket/bracket.html">Bracket Orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="order-creation-execution/futurespot/future-vs-spot.html">Futures and Spot Compensation</a></li>
<li class="toctree-l1"><a class="reference internal" href="datafeed.html">Data Feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="datafeed-develop-csv.html">CSV Data Feed Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="datafeed-develop-general/datafeed-develop-general.html">Binary Datafeed Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending-a-datafeed.html">Extending a Datafeed</a></li>
<li class="toctree-l1"><a class="reference internal" href="pandas-datafeed/pandas-datafeed.html">Pandas DataFeed Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tradingcalendar/tradingcalendar.html">Trading Calendar</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-resampling/data-resampling.html">Data Resampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-multitimeframe/data-multitimeframe.html">Data - Multiple Timeframes</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-replay/data-replay.html">Data - Replay</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-rollover/rolling-futures-over.html">Rolling over Futures</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="induse.html">Using Indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="talib/talib.html">TA-Lib</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixing-timeframes/indicators-mixing-timeframes.html">Mixing Timeframes in Indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="inddev.html">Indicator Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="observers-and-statistics/observers-and-statistics.html">Observers and Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="observer-benchmark/benchmarking.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzers/analyzers.html">Analyzers</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzers/pyfolio.html">PyFolio Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzers/pyfolio-integration/pyfolio-integration.html">Pyfolio Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="writer.html">Writer</a></li>
<li class="toctree-l1"><a class="reference internal" href="commission-schemes/commission-schemes.html">Commissions: Stocks vs Futures</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending-commissions/commission-schemes-extended.html">Extending Commissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-defined-commissions/commission-schemes-subclassing.html">User Defined Commissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="commission-credit.html">Commissions: Credit</a></li>
<li class="toctree-l1"><a class="reference internal" href="position.html">Position</a></li>
<li class="toctree-l1"><a class="reference internal" href="trade.html">Trade</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting/ranges/plotting-date-ranges.html">Plotting Date Ranges</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting/sameaxis/plot-sameaxis.html">Plotting on the same axis</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization-improvements.html">Optimization improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="automated-bt-run/automated-bt-run.html">Automating BackTesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-savings/memory-savings.html">Saving Memory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DateTime Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#operation-with-timezones">Operation with timezones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#datetime-input">Datetime Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetime-output">Datetime output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="live/live.html">Live Data Feeds and Live Trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataautoref.html">Data Feeds Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="datayahoo.html">Yahoo Data Feed Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="indautoref.html">Indicator Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="talibindautoref.html">TA-Lib Indicator Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategy-reference.html">Strategies Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzers-reference.html">Analyzers Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="observers-reference.html">Observers Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="sizers-reference.html">Sizers Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters-reference.html">Filters Reference</a></li>
</ul>

</div>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="datetime-management">
<h1>DateTime Management<a class="headerlink" href="#datetime-management" title="Permalink to this headline">¶</a></h1>
<p>Up until release <em>1.5.0</em>, <em>backtrader</em> used a direct approach to time
management in that whatever datetime was calculated by <em>data sources</em> was
simply used at face value.</p>
<p>And the same for any user input like in the case of the <em>parameter</em>
<code class="docutils literal notranslate"><span class="pre">fromdate</span></code> (or <code class="docutils literal notranslate"><span class="pre">sessionstart</span></code>) which can be given to any <em>data source</em></p>
<p>The approach was fine given the direct control over frozen data sources for
backtesting. It was easy to assume that the input datetimes had already been
taken care of before they entered the system.</p>
<p>But with 1.5.0, <strong>live</strong> <em>data sources</em> are supported and this forces to take
into account <strong>datetime management</strong>.  Such management would not be needed if
the following were always <em>true</em>:</p>
<blockquote>
<div><ul class="simple">
<li>A trader in New York trades the ES-Mini. The time zone for both in
<code class="docutils literal notranslate"><span class="pre">US/Eastern</span></code> (or one of the aliases)</li>
<li>A trader in Berlin trades the DAX future. In this case for both the <code class="docutils literal notranslate"><span class="pre">CET</span></code>
(or <code class="docutils literal notranslate"><span class="pre">Europe/Berling</span></code>) timezone applies</li>
</ul>
</div></blockquote>
<p>The direct input-output datetime approach from above would work, becase the
trader, in Berlin for example, could always do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Strategy</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Strategy</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># The DAX future opens at 08:00 CET</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">30</span><span class="p">):</span>
            <span class="c1"># don&#39;t operate until the market has been running 30 minutes</span>
            <span class="k">return</span>  <span class="c1">#</span>
</pre></div>
</div>
<p>The problem with the direct approach surfaces when the same trader in Berlin
decides to trade the <code class="docutils literal notranslate"><span class="pre">ES-Mini</span></code>. Because the change to from <em>DST</em> happens at
different point in time in the year and this causes the time difference to be
out of sync a couple of weeks during the year. The following wouldn’t always
work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Strategy</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Strategy</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># The SPX opens at 09:30 US/Eastern all year long</span>
        <span class="c1"># This is most of the year 15:30 CET</span>
        <span class="c1"># But it is sometimes 16:30 CET or 14:30 CET if a DST switch on-off</span>
        <span class="c1"># has happened in the USA and not in Europe</span>

        <span class="c1"># That&#39;s why the code below is unreliable</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># don&#39;t operate until the market has been running 30 minutes</span>
            <span class="k">return</span>  <span class="c1">#</span>
</pre></div>
</div>
<div class="section" id="operation-with-timezones">
<h2>Operation with timezones<a class="headerlink" href="#operation-with-timezones" title="Permalink to this headline">¶</a></h2>
<p>To solve the aforementioned situations and still remain compatible with the
direct input-output time approach, <code class="docutils literal notranslate"><span class="pre">backtrader</span></code> offers the end user the
following</p>
<div class="section" id="datetime-input">
<h3>Datetime Input<a class="headerlink" href="#datetime-input" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">As a default the platform will not touch the <em>datetime</em> provided by a data source</p>
<ul class="simple">
<li>The end-user can override this input by:<ul>
<li>Providing a <code class="docutils literal notranslate"><span class="pre">tzinput</span></code> parameter to the data source. This must be an
object compatible with the <code class="docutils literal notranslate"><span class="pre">datetime.tzinfo</span></code> interface. Most likely
the user will provide a <code class="docutils literal notranslate"><span class="pre">pytz.timezone</span></code> instance</li>
</ul>
</li>
</ul>
<p>With this decision the time used internally by <code class="docutils literal notranslate"><span class="pre">backtrader</span></code> is considered
to be in <code class="docutils literal notranslate"><span class="pre">UTC-like</span></code> format, ie:</p>
<blockquote>
<div><ul class="simple">
<li>If the data source has already stored it in <code class="docutils literal notranslate"><span class="pre">UTC</span></code> format</li>
<li>After a conversion through <code class="docutils literal notranslate"><span class="pre">tzinput</span></code></li>
<li>It’s not really <code class="docutils literal notranslate"><span class="pre">UTC</span></code> but it’s the reference for the user, hence
<code class="docutils literal notranslate"><span class="pre">UTC-like</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="datetime-output">
<h3>Datetime output<a class="headerlink" href="#datetime-output" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">If the data feed can automatically determine the timezone for the output,
this will be the default</p>
<p>This makes sense in the case of live-feeds and especially in use cases like
the one in which a trader in Berlin (<code class="docutils literal notranslate"><span class="pre">CET</span></code> timezone), trades products
with <code class="docutils literal notranslate"><span class="pre">US/Eastern</span></code> timezone.</p>
<p>Because the trader gets always the right time and in the example above the
<em>opening</em> time remains constant at <code class="docutils literal notranslate"><span class="pre">09:30</span> <span class="pre">US/Eastern</span></code>, rather than
<code class="docutils literal notranslate"><span class="pre">15:30</span> <span class="pre">CET</span></code> most of the year, but sometimes <code class="docutils literal notranslate"><span class="pre">16:30</span> <span class="pre">CET</span></code> and sometimes
<code class="docutils literal notranslate"><span class="pre">14:30</span> <span class="pre">CET</span></code>.</p>
</li>
<li><p class="first">If it cannot be determined, then the output will be whatever was determined
during input (the <code class="docutils literal notranslate"><span class="pre">UTC-like</span></code>) time</p>
</li>
<li><p class="first">The end user can override and determine the actual timezone for the output</p>
<blockquote>
<div><ul class="simple">
<li>Providing a <code class="docutils literal notranslate"><span class="pre">tz</span></code> parameter to the data source. This must be an object
compatible with the <code class="docutils literal notranslate"><span class="pre">datetime.tzinfo</span></code> interface. Most likely the user
will provide a <code class="docutils literal notranslate"><span class="pre">pytz.timezone</span></code> instance</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Input fromt the user like for example the parameters <code class="docutils literal notranslate"><span class="pre">fromdate</span></code> or
<code class="docutils literal notranslate"><span class="pre">sessionstart</span></code> are expected to be in sync with the actual <code class="docutils literal notranslate"><span class="pre">tz</span></code>, be it
automatically calculated by the <em>data source</em>, supplied by the user or left
as default (<code class="docutils literal notranslate"><span class="pre">None</span></code>, which means direct input-output of <em>datetime</em>)</p>
</div>
<p>With all that in mind let’s recall the Berlin trader, trading in
<code class="docutils literal notranslate"><span class="pre">US/Eastern</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytz</span>

<span class="kn">import</span> <span class="nn">bt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">feeds</span><span class="o">.</span><span class="n">MyFeed</span><span class="p">(</span><span class="s1">&#39;ES-Mini&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">Strategy</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Strategy</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># This will work all year round.</span>
        <span class="c1"># The data source will return in the frame of the &#39;US/Eastern&#39; time</span>
        <span class="c1"># zone and the user is quoting &#39;10:00&#39; as reference time</span>
        <span class="c1"># Because in the &#39;US/Eastern&#39; timezone the SPX index always starts</span>
        <span class="c1"># trading at 09:30, this will always work</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># don&#39;t operate until the market has been running 30 minutes</span>
            <span class="k">return</span>  <span class="c1">#</span>
</pre></div>
</div>
<p>In the case of a <em>data source</em> which can automatically determine the output
timezone:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">feeds</span><span class="o">.</span><span class="n">MyFeedAutoTZ</span><span class="p">(</span><span class="s1">&#39;ES-Mini&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Strategy</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Strategy</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># This will work all year round.</span>
        <span class="c1"># The data source will return in the frame of the &#39;US/Eastern&#39; time</span>
        <span class="c1"># zone and the user is quoting &#39;10:00&#39; as reference time</span>
        <span class="c1"># Because in the &#39;US/Eastern&#39; timezone the SPX index always starts</span>
        <span class="c1"># trading at 09:30, this will always work</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># don&#39;t operate until the market has been running 30 minutes</span>
            <span class="k">return</span>  <span class="c1">#</span>
</pre></div>
</div>
<p>Even less work than above.</p>
<p>Obviously <code class="docutils literal notranslate"><span class="pre">MyFeed</span></code> and <code class="docutils literal notranslate"><span class="pre">MyFeedAuto</span></code> in the example above are just dummy
names.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the time of writing the only data source included in the distribution
which can automatically determine the timezone is the one connecting to
<em>Interactive Brokers</em></p>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, 2016, 2017, 2018 Daniel Rodriguez.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>